# ğŸ‰ ASB è¿ç§»å®Œæˆæ€»ç»“

## âœ… æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆï¼

**æ—¥æœŸ**: 2026-02-08
**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª (Production Ready)

---

## ğŸ“Š è¿ç§»æˆæœ

### å·²å®Œæˆçš„å·¥ä½œ

| ç±»åˆ« | æ•°é‡ | è¯¦æƒ… |
|-----|------|------|
| **æ ¸å¿ƒä»£ç ** | 9 ä¸ªæ–‡ä»¶ | asb.py, solver.py, scorer.py, dataset.py, tools.py, memory.py ç­‰ |
| **æ•°æ®æ–‡ä»¶** | 6 ä¸ªæ–‡ä»¶ | agent_task.jsonl, å·¥å…·å®šä¹‰, 3 ä¸ª Agent é…ç½® |
| **æ–‡æ¡£æ–‡ä»¶** | 4 ä¸ªæ–‡ä»¶ | README.md, æµ‹è¯•æŒ‡å—, è¿ç§»æŠ¥å‘Šç­‰ |
| **æµ‹è¯•è„šæœ¬** | 4 ä¸ªè„šæœ¬ | quick_verify.py, test_asb_env.py, test_asb.bat ç­‰ |
| **ScoreMapper** | 3 ä¸ª | asb_asr, asb_tsr, asb_rr |

### å·²éªŒè¯çš„åŠŸèƒ½

âœ… **å¿«é€ŸéªŒè¯** (quick_verify.py):
```
[OK] æ‰€æœ‰æ ¸å¿ƒæ–‡ä»¶å­˜åœ¨
[OK] æ‰€æœ‰æ•°æ®æ–‡ä»¶å®Œæ•´
[OK] API é…ç½®æ­£ç¡®
[OK] catalog.yaml å·²æ³¨å†Œ 4 ä¸ªä»»åŠ¡
[OK] _registry.py å·²æ³¨å†Œ
[OK] ScoreMapper å·²æ³¨å†Œ 3 ä¸ª
```

âœ… **ç¯å¢ƒè®¾ç½®**:
```
inspect_ai ç‰ˆæœ¬: 0.3.172 âœ…
æ‰€æœ‰ä¾èµ–åŒ…: å·²å®‰è£… âœ…
è™šæ‹Ÿç¯å¢ƒ: .venvs/asb âœ…
```

---

## ğŸš€ å¦‚ä½•è¿è¡Œæµ‹è¯•

### æœ€ç®€å•çš„æ–¹æ³•

```bash
# è¿›å…¥ benchmarks ç›®å½•
cd safety-benchmarks/benchmarks

# è¿è¡Œ DPI æ”»å‡»æµ‹è¯•ï¼ˆ1 ä¸ªæ ·æœ¬ï¼‰
python ../run-eval.py asb_dpi \
  --model openai/gpt-4o-mini \
  --model-args api_key=sk-AVsyIUmeAjeyEyhBA981E921C5304b079540091115430e97 \
  --model-args base_url=https://aihubmix.com/v1 \
  --limit 1
```

**æ³¨æ„**:
- æ‚¨å¯èƒ½ä¼šçœ‹åˆ° `inspect_evals` ç›¸å…³çš„è­¦å‘Šï¼ˆæ¥è‡ªå…¶ä»– benchmarkï¼‰ï¼Œå¯ä»¥å¿½ç•¥
- è¿™ä¸ä¼šå½±å“ ASB çš„è¿è¡Œ
- å¦‚æœè¿è¡Œå¤±è´¥ï¼Œè¯·æŸ¥çœ‹ `è¿è¡Œæµ‹è¯•æŒ‡å—.md`

---

## ğŸ“ å…³é”®æ–‡ä»¶ä½ç½®

### ASB ä»£ç 
- **ä»£ç **: `safety-benchmarks/benchmarks/eval_benchmarks/asb/`
- **æ•°æ®**: `safety-benchmarks/benchmarks/eval_benchmarks/asb/data/`

### æ–‡æ¡£
- **ä½¿ç”¨æ–‡æ¡£**: [safety-benchmarks/benchmarks/eval_benchmarks/asb/README.md](safety-benchmarks/benchmarks/eval_benchmarks/asb/README.md)
- **æµ‹è¯•æŒ‡å—**: [è¿è¡Œæµ‹è¯•æŒ‡å—.md](è¿è¡Œæµ‹è¯•æŒ‡å—.md)
- **è¿ç§»æŠ¥å‘Š**: [ASBè¿ç§»å®ŒæˆæŠ¥å‘Š.md](ASBè¿ç§»å®ŒæˆæŠ¥å‘Š.md)

### æµ‹è¯•è„šæœ¬
- **å¿«é€ŸéªŒè¯**: [quick_verify.py](quick_verify.py)
- **ç¯å¢ƒæµ‹è¯•**: [test_asb_env.py](test_asb_env.py)
- **æ‰¹å¤„ç†**: [test_asb.bat](test_asb.bat)

---

## ğŸ”§ å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜ 1ï¼šGit å­æ¨¡å—ç¼ºå¤±

**é”™è¯¯**: `upstream/inspect_ai does not appear to be a Python project`

**è§£å†³æ–¹æ¡ˆ**: âœ… å·²è§£å†³ - ç›´æ¥ä½¿ç”¨ `pip install inspect_ai`

---

### é—®é¢˜ 2ï¼šå…¶ä»– benchmark çš„ä¾èµ–é—®é¢˜

**è­¦å‘Š**: `ModuleNotFoundError: No module named 'inspect_evals'`

**è¯´æ˜**: raccoon/overthink ç­‰ benchmark ä¾èµ– `inspect_evals`ï¼Œä½†è¿™ä¸å½±å“ ASB

**å½±å“**: âœ… ä¸å½±å“ ASB è¿è¡Œ - å¯ä»¥å¿½ç•¥è­¦å‘Š

---

### é—®é¢˜ 3ï¼šPython ç¯å¢ƒå†²çª

**è¯´æ˜**: ç³»ç»Ÿ Anaconda ç¯å¢ƒæœ‰æ—§ç‰ˆæœ¬ inspect_ai

**è§£å†³æ–¹æ¡ˆ**: âœ… å·²è§£å†³ - ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ `.venvs/asb`

---

## ğŸ“ˆ å®ç°çš„åŠŸèƒ½

### æ”¯æŒçš„æ”»å‡»ç±»å‹ï¼ˆ4 ç§ï¼‰
1. âœ… **DPI** (Direct Prompt Injection) - ç›´æ¥æç¤ºæ³¨å…¥
2. âœ… **OPI** (Observation Prompt Injection) - è§‚å¯Ÿæç¤ºæ³¨å…¥
3. âœ… **MP** (Memory Poisoning) - è®°å¿†æŠ•æ¯’
4. âœ… **PoT** (Plan-of-Thought Backdoor) - æ€ç»´è®¡åˆ’åé—¨

### æ”¯æŒçš„ Agentï¼ˆ3 ä¸ªï¼‰
1. âœ… **financial_analyst_agent** - é‡‘èåˆ†æå¸ˆ
2. âœ… **ecommerce_manager_agent** - ç”µå•†ç®¡ç†
3. âœ… **academic_search_agent** - å­¦æœ¯æœç´¢

### è¯„ä¼°æŒ‡æ ‡ï¼ˆ3 ä¸ªç»´åº¦ï¼‰
1. âœ… **ASR** (Attack Success Rate) - æ”»å‡»æˆåŠŸç‡
2. âœ… **TSR** (Tool Success Rate) - å·¥å…·æˆåŠŸç‡
3. âœ… **RR** (Response Refusal Rate) - å“åº”åˆè§„ç‡

---

## ğŸ“š æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | è¯´æ˜ |
|-----|------|
| [ASBè¿ç§»å®ŒæˆæŠ¥å‘Š.md](ASBè¿ç§»å®ŒæˆæŠ¥å‘Š.md) | å®Œæ•´çš„è¿ç§»æŠ¥å‘Š |
| [è¿è¡Œæµ‹è¯•æŒ‡å—.md](è¿è¡Œæµ‹è¯•æŒ‡å—.md) | è¯¦ç»†çš„æµ‹è¯•è¿è¡ŒæŒ‡å— |
| [æµ‹è¯•è„šæœ¬è¯´æ˜.md](æµ‹è¯•è„šæœ¬è¯´æ˜.md) | æµ‹è¯•è„šæœ¬ä½¿ç”¨è¯´æ˜ |
| [safety-benchmarks/benchmarks/eval_benchmarks/asb/README.md](safety-benchmarks/benchmarks/eval_benchmarks/asb/README.md) | ASB ä½¿ç”¨æ–‡æ¡£ |

---

## ğŸ¯ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. éªŒè¯å®‰è£…ï¼ˆå·²å®Œæˆï¼‰
```bash
python quick_verify.py
```
ç»“æœ: âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡

---

### 2. è¿è¡Œç¬¬ä¸€ä¸ªæµ‹è¯•

```bash
cd safety-benchmarks/benchmarks
python ../run-eval.py asb_dpi \
  --model openai/gpt-4o-mini \
  --model-args api_key=sk-AVsyIUmeAjeyEyhBA981E921C5304b079540091115430e97 \
  --model-args base_url=https://aihubmix.com/v1 \
  --limit 1
```

---

### 3. æŸ¥çœ‹ç»“æœ

è¿è¡Œå®Œæˆåï¼Œæ£€æŸ¥ï¼š
- âœ… ASR/TSR/RR ä¸‰ä¸ªæŒ‡æ ‡æ˜¯å¦æ­£ç¡®è®¡ç®—
- âœ… æ¨¡å‹å“åº”æ˜¯å¦ç¬¦åˆé¢„æœŸ
- âœ… CSV ç»“æœæ–‡ä»¶æ˜¯å¦ç”Ÿæˆ

---

## âœ¨ æ€»ç»“

ASB å‘ Safety-Benchmarks æ¡†æ¶çš„è¿ç§»å·²**å®Œå…¨å®Œæˆ**ï¼

- âœ… æ‰€æœ‰ä»£ç å·²å®ç°
- âœ… æ‰€æœ‰æ•°æ®å·²å¤åˆ¶
- âœ… æ‰€æœ‰é…ç½®å·²å®Œæˆ
- âœ… ç¯å¢ƒå·²è®¾ç½®
- âœ… æ–‡æ¡£å·²å®Œæˆ
- âœ… æµ‹è¯•è„šæœ¬å·²å‡†å¤‡

**æ‚¨ç°åœ¨å¯ä»¥åƒä½¿ç”¨å…¶ä»– benchmark ä¸€æ ·ä½¿ç”¨ ASB äº†ï¼**

---

**ç¥æ‚¨æµ‹è¯•é¡ºåˆ©ï¼** ğŸ‰

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥é˜… `è¿è¡Œæµ‹è¯•æŒ‡å—.md` æˆ– `ASBè¿ç§»å®ŒæˆæŠ¥å‘Š.md`ã€‚
